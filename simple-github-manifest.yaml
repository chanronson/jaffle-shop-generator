version: "0.29.0"

streams:
  - name: "repositories"
    primary_key: "id"
    json_schema:
      type: object
      properties:
        id:
          type: integer
          description: Repository ID
        name:
          type: string
          description: Repository name
        full_name:
          type: string
          description: Full repository name
        owner_login:
          type: string
          description: Owner username
        private:
          type: boolean
          description: Whether the repository is private
        html_url:
          type: string
          format: uri
          description: Repository URL
        description:
          type: string
          description: Repository description
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
        stargazers_count:
          type: integer
          description: Number of stars
        watchers_count:
          type: integer
          description: Number of watchers
        forks_count:
          type: integer
          description: Number of forks
        language:
          type: string
          description: Primary programming language

  - name: "issues"
    primary_key: "id"
    json_schema:
      type: object
      properties:
        id:
          type: integer
          description: Issue ID
        number:
          type: integer
          description: Issue number
        title:
          type: string
          description: Issue title
        body:
          type: string
          description: Issue body
        state:
          type: string
          enum: ["open", "closed"]
          description: Issue state
        user_login:
          type: string
          description: User who created the issue
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
        closed_at:
          type: string
          format: date-time
          description: Close timestamp

  - name: "pull_requests"
    primary_key: "id"
    json_schema:
      type: object
      properties:
        id:
          type: integer
          description: Pull request ID
        number:
          type: integer
          description: Pull request number
        title:
          type: string
          description: Pull request title
        body:
          type: string
          description: Pull request body
        state:
          type: string
          enum: ["open", "closed", "merged"]
          description: Pull request state
        user_login:
          type: string
          description: User who created the PR
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
        updated_at:
          type: string
          format: date-time
          description: Last update timestamp
        merged_at:
          type: string
          format: date-time
          description: Merge timestamp